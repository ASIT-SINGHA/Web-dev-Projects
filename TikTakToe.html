<!DOCTYPE html>
<html>
  <head>
    <title> Tik Tak Toe</title>
    <meta name="viewport"  content=" width=device-width, scale=1.0" >
    <style>
    *{
      margin:0px;
      background-color:#487a7a;
    }
    #container{
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1{
      margin:10px;
      font-size:3rem;

    }
    h2{
      text-align:center;
      font-size:1.5rem;
    }
    #bt{
      display:grid;
      height:400px;
      width:400px;
      grid-template-columns: auto auto auto;
      
    }
    #Newgame{
    color: azure;
    font-size:2.3rem;
    border-radius:12px;
    margin-top:20px;
    background-color: #27391C;
    }
    #bt > button{
      background-color:#fdfebe;
      border-radius: 20px;
      width:120px;
      height:120px;
      font-size:3rem;
      
    }
    </style>
  </head>
  <body>
    <div id="container">
     <h1>Tik Tak Toe</h1>
      <div id ="bt">
        <button try="1"></button>
        <button try="2"></button>
        <button try="3"></button>
        <button try="4"></button>
        <button try="5"></button>
        <button try="6"></button>
        <button try="7"></button>
        <button try="8"></button>
        <button try="9"></button>
      </div>
      <button id="Newgame" onclick="location.reload()">New game</button>
    </div>
  </body>
  <script>
    let h = document.querySelector("h1");
    let bd=document.querySelector("#bt");
    let Newgame= document.querySelector("#newGame");
    
   
    
    let turn =true;
    let player1=[];
    let player2=[];
    let win=[ [1,2,3],[1,4,7],[1,5,9],[2,5,8],[3,6,9],[3,5,7],[4,5,6],[7,8,9] ];
    let check= 0;
    
    
     function add(player)
    {
    let h2= document.createElement("h2");
          h2.innerHTML=`${player}`
          h2.style.margin="20px"
          h2.style.color="#FFEB00"
          h2.style.fontSize="2.5rem";
          h.after(h2);
    }
    
    function checkWin(e,player){
      let won = 0;
       for( let i = 0; i<8 ; i++ ){
          let x = win[i][0];
          let y= win[i][1];
          let z= win[i][2];
          for( let j = 0; j<player.length; j++){
            if( player[j] == x || player[j] == y || player[j] == z ){
              won++;
              }
            }
           if( won == 3) {
           return true;
           
           }
           else won = 0;
          };
          return false;
    }
    
    bt.addEventListener('click',function(e){
    
     
      if ( turn == true  && e.target.type=="submit"){
        e.target.innerHTML="X";
        turn = !turn;
        e.target.disabled= true;
        e.target.style.color="red";
        player1.push(Number(e.target.getAttribute("try")));
        check++;
        if(check == 9){
          add("Match is draw.")
        }
        else{
          if(checkWin(e,player1) ){
          e.target.parentElement.style.pointerEvents ="none";
          add("player 1 (X) is win.")
          } 
        } 
        
      }else if ( ( turn == false  && e.target.type=="submit")){
        e.target.innerHTML="O";
        turn = !turn;
        e.target.disabled= true;
        e.target.style.color="red";
         player2.push(Number(e.target.getAttribute("try")));
         check++;
         if(check == 9 ){
          add("Match is draw.")
         }
        else {
          if ( checkWin(e,player2) ) { 
          add("player 2 ( O ) is win.");
          e.target.parentElement.style.pointerEvents ="none";
          }
        }
        
      }
   
    });
  

  </script>
</html>


